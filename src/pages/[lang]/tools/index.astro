---
import Layout from "@/layouts/Layout.astro";
import { useTranslations } from "@/hooks/use-translations";

import Portfolio from "@/components/sections/Portfolio.astro";

const t = useTranslations();

const projects = Object.keys(t("tools.projects")).map((key) => {
  const tags = Object.keys(t(`tools.projects.${key}.tags`)).map((tag) =>
    t(`tools.projects.${key}.tags.${tag}`),
  );

  return {
    title: t(`tools.projects.${key}.title`),
    description: t(`tools.projects.${key}.description`),
    url: t(`tools.projects.${key}.url`),
    image: {
      src: t(`tools.projects.${key}.image.src`),
      alt: t(`tools.projects.${key}.image.alt`),
    },
    type: t(`tools.projects.${key}.type`),
    tags,
  };
});
---

<Layout
  title={t("pages.tools.title")}
  description={t("pages.tools.description")}
  image="/favicon.png"
>
  <Portfolio
    section={{
      name: t("pages.tools.title"),
      description: t("pages.tools.description"),
    }}
    projects={projects}
  />
</Layout>
